{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/OneDrive/Desktop/personal/booking-app/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\n\nexport default function BookingApp() {\n  const [slots, setSlots] = useState<string[]>([]);\n  const [message, setMessage] = useState(\"\");\n\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors },\n    setValue,\n    reset,\n  } = useForm({\n    defaultValues: {\n      date: \"\",\n      timeSlot: \"\",\n      name: \"\",\n      phone: \"\",\n    },\n  });\n\n  const date = watch(\"date\");\n\n  useEffect(() => {\n    if (date) {\n      axios\n        .get(`http://localhost:5000/slots?date=${date}`)\n        .then((res) => setSlots(res.data.availableSlots))\n        .catch((err) => console.error(err));\n    }\n  }, [date]);\n\n  const onSubmit = async (data: {\n    date: string;\n    timeSlot: string;\n    name: string;\n    phone: string;\n  }) => {\n    try {\n      await axios.post(\"http://localhost:5000/book\", data);\n      setMessage(\"✅ Appointment booked successfully!\");\n      reset();\n      setSlots(slots.filter((slot) => slot !== data.timeSlot));\n      setValue(\"timeSlot\", \"\");\n    } catch (error) {\n      setMessage(\n        (error as Error).message || \"❌ Booking failed. Please try again.\"\n      );\n    }\n  };\n\n  return (\n    <div className=\"flex justify-center items-center h-screen\">\n      <div className=\"max-w-lg mx-auto p-4 bg-white rounded-lg shadow-md\">\n        <h2 className=\"text-xl font-bold mb-4\">Book an Appointment</h2>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          {/* Date Input */}\n          <div className=\"mb-2\">\n            <input\n              type=\"date\"\n              className=\"w-full p-2 border rounded\"\n              {...register(\"date\", { required: \"⚠️ Date is required\" })}\n            />\n            {errors.date && (\n              <p className=\"text-red-500 text-sm\">{errors.date.message}</p>\n            )}\n          </div>\n\n          {/* Time Slot Selection */}\n          <div className=\"mb-2\">\n            <select\n              className=\"w-full p-2 border rounded\"\n              {...register(\"timeSlot\", {\n                required: \"⚠️ Time slot is required\",\n              })}\n            >\n              <option value=\"\">Select a time slot</option>\n              {slots.map((slot) => (\n                <option key={slot} value={slot}>\n                  {slot}\n                </option>\n              ))}\n            </select>\n            {errors.timeSlot && (\n              <p className=\"text-red-500 text-sm\">{errors.timeSlot.message}</p>\n            )}\n          </div>\n\n          {/* Name Input */}\n          <div className=\"mb-2\">\n            <input\n              type=\"text\"\n              placeholder=\"Your Name\"\n              className=\"w-full p-2 border rounded\"\n              {...register(\"name\", { required: \"⚠️ Name is required\" })}\n            />\n            {errors.name && (\n              <p className=\"text-red-500 text-sm\">{errors.name.message}</p>\n            )}\n          </div>\n\n          {/* Phone Number Input */}\n          <div className=\"mb-2\">\n            <input\n              type=\"text\"\n              placeholder=\"Phone Number\"\n              className=\"w-full p-2 border rounded\"\n              {...register(\"phone\", {\n                required: \"⚠️ Phone number is required\",\n                minLength: {\n                  value: 10,\n                  message: \"⚠️ Phone number must be at least 10 digits\",\n                },\n              })}\n            />\n            {errors.phone && (\n              <p className=\"text-red-500 text-sm\">{errors.phone.message}</p>\n            )}\n          </div>\n\n          {/* Submit Button */}\n          <button\n            type=\"submit\"\n            className=\"w-full bg-blue-500 text-white p-2 rounded\"\n          >\n            Book Appointment\n          </button>\n        </form>\n\n        {/* Success / Error Message */}\n        {message && (\n          <p className=\"mt-2 text-center text-green-500\">{message}</p>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}